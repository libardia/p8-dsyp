state = "menu"


function _init()
    printh("=== BEGIN ===")

    -- Enable mouse and keyboard input
    poke(0x5f2d, 0b001)

    init_commands()
end


function _update()
    if state == "game" then
        timer_bar_update()
    end
    text_update()
end


function _draw()
    cls()
    if state == "menu" then
        draw_menu()
    elseif state == "awards" then
        draw_awards()
    else
        draw_game()
        timer_bar_draw()
    end
    output_draw()
    text_draw()
end
